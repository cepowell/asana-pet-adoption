import loadDogHTML from"./load-dogs.js";import handleModal from"./image-modal.js";if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>{loadDogHTML();handleModal()})}else{loadDogHTML();handleModal()}document.addEventListener("dogsLoaded",()=>{const images=document.querySelectorAll("[data-src]");createObserver(images)},false);const createObserver=images=>{const options={root:null,rootMargin:"0px",threshold:.02};const observer=new IntersectionObserver(handleIntersect,options);images.forEach(image=>{observer.observe(image)})};const handleIntersect=(entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const image=entry.target;const url=image.getAttribute("data-src");image.setAttribute("src",url);observer.unobserve(entry.target)}})};